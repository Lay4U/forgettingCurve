---
description: 
globs: 
alwaysApply: false
---
아래는 에빙하우스의 망각 곡선을 활용하여 사용자가 학습한 내용을 기반으로 자동으로 재학습 일정을 계산·등록하고, 재학습 완료 체크 및 메모 기능까지 제공하는 웹 애플리케이션을 구축하기 위한 전반적인 기획서입니다. Svelte와 Firebase를 기반으로 개발하는 것을 전제로 하며, 시스템 설계부터 UI/UX, 데이터베이스 구조, 기능 요구사항, 코드 예시까지 상세하게 기술하였습니다.

---

## 1. 프로젝트 개요

### 목표
- **학습 내용 입력 → 자동 스케줄링**  
  사용자가 학습한 내용을 등록하면, 시스템은 에빙하우스 망각 곡선에 기반해 자동으로 복습(재학습) 날짜를 계산하여 "오늘", "내일", "1주일 후", "30일 후" 등 복습 스케줄을 등록합니다.
- **복습 관리**  
  사용자는 등록된 각 복습 항목에 대해 완료 여부를 체크하고, 필요시 메모를 남길 수 있습니다.
- **분야/과목별 설정**  
  과목이나 분야에 따라 복습 주기를 커스터마이징할 수 있도록 합니다.

---

## 2. 기술 스택 및 개발 환경

### 프론트엔드
- **Svelte (또는 SvelteKit)**  
  - 빠른 반응형 UI 개발에 적합하며, 컴포넌트 기반으로 재사용이 용이합니다.
  - SvelteKit을 사용하면 라우팅, SSR 등 추가 기능을 활용할 수 있습니다.

### 백엔드 및 데이터베이스
- **Firebase**  
  - **Authentication:** 사용자 등록 및 로그인 (이메일/비밀번호, 소셜 로그인 등)
  - **Firestore:** 학습 내용 및 복습 스케줄 관리 데이터 저장
  - **Cloud Functions (옵션):** 예약 알림 기능, 주기적 데이터 갱신 작업 등 백엔드 로직 처리
  - **Firebase Hosting:** 배포 및 호스팅

---

## 3. 주요 기능 및 요구사항

### 사용자 기능
- **회원가입/로그인**  
  Firebase Authentication을 통해 사용자 인증 및 관리
- **학습 내용 등록**  
  - 제목, 내용, 과목/분야 선택  
  - 등록 시점 기준으로 자동으로 복습 날짜 생성
- **복습 스케줄 자동 계산**  
  - 기본 복습 일정:  
    - 즉시/오늘 (학습 당일)  
    - 내일 (+1일)  
    - 1주일 후 (학습일 기준 +7일)  
    - 30일 후 (학습일 기준 +30일)  
  - 각 과목별로 별도의 커스터마이징 기능 제공 (옵션)
  - **개인화된 망각 곡선 알고리즘** (추가 기능)
    - 사용자의 복습 이력과 완료 상태에 따라 복습 주기 자동 조정
    - 특정 내용을 자주 잊는 경우 복습 간격을 줄이고, 잘 기억하는 경우 간격 확장
    - 데이터가 축적될수록 더 정확한 개인화된 복습 주기 제안
- **복습 진행 관리**  
  - 각 복습 항목에 대해 "완료 체크" 기능  
  - 복습 시 메모 작성 가능
- **대시보드 및 알림**  
  - 오늘 또는 곧 복습해야 할 항목을 대시보드에서 한눈에 확인  
  - (옵션) Firebase Cloud Messaging을 통한 알림 제공

### 관리자/설정 기능
- **과목별 복습 주기 커스터마이징**  
  - 기본 주기 외에 사용자가 직접 복습 간격을 수정 가능
- **데이터 통계 및 분석** (옵션)  
  - 복습 성공률, 학습 진척도, 주간/월간 리뷰 현황 등
- **학습 데이터 시각화 및 분석** (핵심 기능으로 변경)  
  - 복습 성공률, 학습 진척도, 주간/월간 리뷰 현황 대시보드
  - 망각 곡선 그래프로 기억 유지율 시각화
  - 과목별/주제별 학습량 및 복습 완료율 비교
  - 최적 학습 시간대 분석 (사용자가 가장 활발히 학습/복습하는 시간)
  - 목표 설정 및 달성률 트래킹

### 소셜 학습 페이지
- 학습 그룹 생성 및 관리
- 학습 콘텐츠 공유 및 협업 기능

- **소셜 학습 및 공유 기능** (선택적 추가 기능)
  - 학습 그룹 생성 및 참여
  - 학습 자료 공유 및 협업 편집
  - 학습 진행도 및 업적 공유
  - 랭킹 시스템 및 학습 챌린지
  - 학습 파트너/멘토 시스템
  - 공개/비공개 학습 자료 라이브러리

---

## 4. 데이터베이스 설계 (Firebase Firestore)

### 컬렉션 구조 예시

1. **users**  
   - **필드:**  
     - `uid`: 사용자 고유 ID  
     - `name`, `email` 등 기본 프로필 정보

2. **subjects** (또는 categories)  
   - **필드:**  
     - `subjectId`: 과목 또는 분야 고유 ID  
     - `userId`: 소유자 (사용자)  
     - `name`: 과목/분야 이름  
     - `customIntervals` (옵션): 해당 과목에 대한 커스텀 복습 주기 정보

3. **studyMaterials**  
   - **필드:**  
     - `materialId`: 학습 내용 고유 ID  
     - `userId`: 작성자  
     - `subjectId`: 선택한 과목/분야  
     - `title`: 제목  
     - `content`: 학습 내용  
     - `dateStudied`: 학습 등록 날짜 (타임스탬프)  
     - `tags`: 검색과 필터링을 위한 키워드 배열
     - `importance`: 중요도 (1-5)
     - `difficultyLevel`: 난이도 (1-5)
     - `attachments`: 첨부 파일 URL 배열 (이미지, PDF 등)
     - `reviews`: 배열 또는 서브컬렉션  
       - 각 항목 예시:  
         ```json
         {
           "reviewId": "고유 ID",
           "scheduledDate": "타임스탬프",
           "completedDate": "타임스탬프 또는 null",
           "status": "pending", // 또는 "completed", "missed"
           "memo": "",
           "difficultyRating": 1-5, // 복습 시 체감 난이도
           "memoryRating": 1-5, // 기억 유지도 (1: 거의 기억 못함, 5: 완벽히 기억)
           "nextReviewAdjustment": 0 // 다음 복습 주기 조정값 (일 단위, +/-)
         }
         ```

4. **(옵션) reviews 서브컬렉션**  
   - 각 학습 자료 문서 아래에 reviews 서브컬렉션으로 관리하여, 개별 복습 내역을 더 세밀하게 관리할 수 있음

5. **userSettings** (새 컬렉션)
   - **필드:**
     - `userId`: 사용자 고유 ID
     - `defaultReviewIntervals`: 기본 복습 주기 (일 단위 배열)
     - `preferredStudyTime`: 선호 학습 시간대
     - `notificationSettings`: 알림 설정
     - `uiPreferences`: UI 사용자 설정 (다크모드 등)
     - `memoryFactor`: 개인화된 기억력 계수 (알고리즘에 활용)

---

## 5. 사용자 인터페이스 (UI/UX) 설계

### 주요 페이지 및 구성 요소
1. **로그인/회원가입 페이지**  
   - 간단하고 직관적인 폼 디자인
2. **대시보드**  
   - 오늘 및 다가오는 복습 항목 리스트  
   - 복습 완료 여부, 메모, 과목별 필터 기능 제공
   - 캘린더 또는 타임라인 뷰 (옵션)
3. **학습 내용 등록 페이지**  
   - 제목, 내용, 과목 선택 입력 폼  
   - 입력 후 자동으로 복습 날짜 계산 후 저장
4. **학습 내용 상세 페이지**  
   - 학습 내용과 함께 복습 스케줄 타임라인 표시  
   - 각 복습 항목에 대해 완료 체크박스와 메모 입력 필드 제공
   - **인터랙티브 복습 기능** (추가)
     - 플래시카드 형태의 자가 테스트 기능
     - 텍스트 가리기/보기 전환으로 능동적 복습 유도
     - 복습 난이도 자가 평가 (상/중/하)로 다음 복습 주기 조정
     - 음성 녹음/재생 기능으로 발음/언어 학습 지원
5. **설정 페이지**  
   - 과목별 복습 주기, 알림 설정, 사용자 프로필 수정 등
6. **소셜 학습 페이지** (선택적 기능)
   - 학습 그룹 생성 및 관리
   - 학습 콘텐츠 공유 및 협업 기능

### 디자인 추천
- **깔끔하고 미니멀한 UI**  
  복잡한 정보를 한눈에 파악할 수 있도록 심플한 레이아웃 유지
- **반응형 디자인**  
  데스크톱, 태블릿, 모바일 등 다양한 디바이스에서 편리하게 이용 가능하도록
- **컬러 코드**  
  복습 상태(예: 대기, 완료, 지연)에 따라 색상으로 구분하여 직관적인 이해 제공
- **모달 및 알림**  
  학습 등록, 수정, 복습 완료 시 모달창 및 알림 메시지 활용

---

## 6. 시스템 워크플로우

1. **회원가입/로그인**  
   - 사용자가 Firebase Authentication을 통해 인증
2. **학습 내용 등록**  
   - 사용자가 학습 내용을 입력하면, 현재 날짜를 기준으로 자동으로 복습 날짜(오늘, 내일, 1주일 후, 30일 후 등)를 계산
   - 계산된 복습 일정이 함께 Firestore에 저장됨
3. **대시보드 확인**  
   - 대시보드에 오늘 및 예정된 복습 항목이 목록화되어 표시됨
4. **복습 진행 및 기록**  
   - 사용자는 복습 일정에 맞춰 해당 항목을 확인 후 완료 체크 및 메모 입력  
   - Firestore 데이터 업데이트를 통해 복습 내역이 저장됨
5. **과목별 설정 및 커스터마이징**  
   - 사용자가 과목별로 복습 주기를 수정하거나 알림 설정을 조정할 수 있음

---


## 8. 추가 고려사항

- **반응형 및 접근성**  
  다양한 기기에서 편리하게 이용할 수 있도록 반응형 디자인 적용  
  접근성(Accessibility) 고려하여 색상 대비, 키보드 내비게이션 등 지원
- **오프라인 지원**  
  Firestore의 오프라인 기능을 활용해 네트워크 문제 시에도 사용 가능하도록 고려
- **보안 규칙**  
  Firebase Firestore 보안 규칙을 통해 사용자 데이터 보호 및 접근 제어
- **알림 기능 (옵션)**  
  Firebase Cloud Messaging을 활용하여 복습 예정 알림 또는 이메일 알림 구현
- **테스트 및 배포**  
  SvelteKit 개발 환경에서 충분한 테스트 후 Firebase Hosting 등을 통해 배포
- 제일 중요한건데, 추후에 안드로이드 앱으로 출시할때 따로 개발하지 않고 이 웹페이지를 사용할 테니 이거를 고려해야해.
- **PWA(Progressive Web App) 최적화**
  - 오프라인 모드 완벽 지원
  - 앱 설치 배너 및 홈 화면 추가 기능
  - 푸시 알림 지원 (복습 알림에 중요)
  - 네이티브 앱과 유사한 사용자 경험 제공
  - 앱 스토어 배포를 위한 TWA(Trusted Web Activity) 설정
  - 화면 방향 변경, 딥링크 지원 등 모바일 최적화 기능

---

## 9. 결론

이 기획서는 에빙하우스의 망각 곡선을 기반으로 한 학습 복습 웹 애플리케이션을 구축하기 위한 전반적인 가이드입니다.  
- **주요 포인트:**  
  - 학습 내용 입력 → 자동 복습 일정 계산 및 등록  
  - 복습 진행 시 체크 및 메모 기능 제공  
  - 과목별 커스터마이징 가능  
  - Svelte를 통한 프론트엔드 구현, Firebase를 통한 인증, 데이터베이스, (옵션) 알림 등 백엔드 서비스 연동

